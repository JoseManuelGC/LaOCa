<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>La Oca</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<style type="text/css">
		#button-login{
			background-color:#FF7171;
		}
		.loader {
		    border: 4px solid #f3f3f3; /* Light grey */
		    border-top: 4px solid #3498db; /* Blue */
		    border-radius: 50%;
		    width: 30px;
		    height: 30px;
		    animation: spin 2s linear infinite;
    		padding-top: 2px;
		    
		}

		@keyframes spin {
    		0% { transform: rotate(0deg); }
    		100% { transform: rotate(360deg); }
    	}
    	#myProgress {
		  width: 100%;
		  height: 30px;
		  position: relative;
		  background-color: #ddd;
		}
		
		#myBar {
		  background-color: #4CAF50;
		  width: 10px;
		  height: 30px;
		  position: absolute;
		}
	</style>
</head>
<body>
 <div class="container-fluid">
  <div class="row" id="index">
  <h1 align="center">
  La Oca
  </h1>
  <div class="col-md-3">
  </div>
   <div class="col-md-6">
    <div class="panel panel-login">
     <div class="panel-heading">
      <div class="row">
       <div class="col-xs-3" id="button-login" align="center">
       	<a href="javascript:cambiar()" class="active" id="login-form-link">Iniciar sesión</a>
       </div>
       <div class="col-xs-3" id="button-register" align="center">
       	<a href="javascript:cambiar()" id="register-form-link">Registro</a>
       </div>
       <div class="col-xs-3" id="button-guest" align="center">
       	<a href="javascript:cambiar()" id="guest-form-link">Jugar como invitado</a>
       </div>
       <div class="col-xs-3" id="button-recuperar" align="center">
       	<a href="javascript:cambiar()" id="recuperar-form-link">Recuperar contraseña</a>
       </div>
      </div>
     </div>
     <div class="panel-body">
		<div class="row">
			<div class="col-lg-12">
				<form id="login-form" action="" method="post" role="form" style="display: block;">
					<div class="form-group">
						<input type="text" name="usernameLogin" id="usernameLogin" tabindex="1" class="form-control" placeholder="Usuario o correo electrónico" value="">
					</div>
					<div class="form-group">
						<input type="password" name="passwordLogin" id="passwordLogin" tabindex="2" class="form-control" placeholder="Contraseña">
					</div>
					<div class="form-group text-center">
						<input type="checkbox" tabindex="3" class="" name="remember" id="remember">
						<label for="remember"> Recuérdame</label>
					</div>
					<div class="alert alert-danger" id="feedbackLogin" style="display:none">
					<p id="feedbackLoginText"></p>
					</div>
					<div class="form-group">
						<div class="row">
							<div class="col-sm-6 col-sm-offset-3">
								<input type="button" onclick="login()" name="login-submit" id="login-submit" tabindex="4" class="form-control btn btn-primary" value="Iniciar sesión">
							</div>
						</div>
					</div>
				</form>
				<form id="register-form" action="" method="post" role="form" style="display: none;">
					<div class="form-group">
						<input type="text" name="usernameRegister" id="usernameRegister" tabindex="1" class="form-control" placeholder="Usuario" value="">
					</div>
					<div class="form-group">
						<input type="email" name="emailRegister" id="emailRegister" tabindex="1" class="form-control" placeholder="Dirección de correo" value="">
					</div>
					<div class="form-group">
						<input type="password" name="passwordRegister1" id="passwordRegister1" tabindex="2" class="form-control" placeholder="Contraseña">
					</div>
					<div class="form-group">
						<input type="password" name="passwordRegister2" id="passwordRegister2" tabindex="2" class="form-control" placeholder="Confirmar contraseña">
					</div>
					<div class="alert alert-danger" id="feedbackRegister" style="display:none">
						<p id="feedbackRegisterText"></p>
					</div>
					<div class="form-group">
						<div class="row">
							<div class="col-sm-6 col-sm-offset-3">
								<input type="button" onclick="registrar()" name="register-submit" id="register-submit" tabindex="4" class="form-control btn btn-primary" value="Registrarse">
							</div>
						</div>
					</div>
				</form>
				<form id="guest-form" action="" method="post" role="form" style="display:none;">
					<div class="form-group">
						<div class="row">
						<div class="alert alert-danger" id="feedbackInvitado" style="display:none">
							<p id="feedbackInvitadoText"></p>
						</div>
							<div class="col-sm-6 col-sm-offset-3">
								<input type="button" onclick="invitado()" name="guest-submit" id="guest-submit" tabindex="4" class="form-control btn btn-primary" value="Jugar como invitado">
							</div>
						</div>
					</div>
				</form>
				<form id="recuperar-form" action="" method="post" role="form" style="display:none;">
					<div class="form-group">
						<input type="email" name="emailRecuperacion" id="emailRecuperacion" tabindex="2" class="form-control" placeholder="Correo electrónico">
					</div>
					<div class="alert alert-danger" id="feedbackRecuperacion" style="display:none">
						<p id="feedbackRecuperacionText"></p>
					</div>
					<div class="form-group">
						<div class="row">		
							<div class="col-sm-6 col-sm-offset-3">
								<input type="button" onclick="recuperacion()" name="recuperar-submit" id="recuperar-submit" tabindex="4" class="form-control btn btn-primary" value="Enviar enlace de recuperación">
							</div>
							<div class="col-sm-1">
								<div class="loader" id="cargando" style="display:none"></div>
							</div>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
   </div>
  </div>
  <div class="col-md-3">
  </div>
 </div>
 <div class="row">
 <br>
  <div class="container-fluid" id="juego" style="display:none">
   <div class="col-md-3">
    <div class="row">
    <div class="col-md-12" id="cambiar">
    	<div class="panel-group" id="accordion">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a data-toggle="collapse" data-parent="#accordion" href="#cambiarPassword">
          Cambiar contraseña</a>
        </h4>
      </div>
      <div id="cambiarPassword" class="panel-collapse collapse">
        <input type="password" name="passwordActual" id="passwordActual" class="form-control" placeholder="Contraseña actual" value="">
		<input type="password" name="passwordNueva1" id="passwordNueva1" class="form-control" placeholder="Nueva contraseña" value="">
		<input type="password" name="passwordNueva2" id="passwordNueva2" class="form-control" placeholder="Confirmar contraseña" value="">
		<input type="button" onclick="cambiarPassword()" name="button-cambiar-password" id="button-cambiar-password" class="form-control btn btn-primary" value="Cambiar contraseña">
		<div class="alert alert-danger" id="feedbackCambiar" style="display:none">
			<p id="feedbackCambiarText"></p>
		</div>
      </div>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a data-toggle="collapse" data-parent="#accordion" href="#crearPartida">
            Crear partida</a>
          </h4>
        </div>
        <div id="crearPartida" class="panel-collapse collapse">
			<form>
 				<div class="row">
					<div class="col-md-3">Jugadores:</div>  
					<div class="col-md-3">
						<input type="number" name="numeroJugadores" id="numeroJugadores" class="form-control" placeholder="Nº jugadores" value=2 min="2" max="6">
					</div>
					<div class="col-md-5">
						<input type="button" onclick="crearPartida()" name="button-crear-partida" id="button-crear-partida" class="form-control btn btn-primary" value="Nueva partida">
					</div>
    			</div>
	        </form>
		</div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading">
            <h4 class="panel-title">
              <a data-toggle="collapse" data-parent="#accordion" href="#unirsePartida">
                Unirse a partida</a>
              </h4>
            </div>
            <div id="unirsePartida" class="panel-collapse collapse">
	            <form>
	              <input type="button" onclick="unirse()" name="button-unirse" id="button-unirse" class="form-control btn btn-primary" value="Unirse">
	            </form>
            </div>
         </div>
            <div class="panel panel-default">
              <div class="panel-heading">
                <h4 class="panel-title">
                  <a data-toggle="collapse" data-parent="#accordion" href="#ranking" onclick="ranking()">
                    Ranking</a>
                  </h4>
                </div>
                <div id="ranking" class="panel-collapse collapse" aria-expanded="false">
	                <table class="table" id="table">
	                
	                </table>
	                <div class="alert alert-danger" id="feedbackRanking" style="display:none">
						<p id="feedbackRankingText"></p>
					</div>
                </div>
              </div>
           </div>
    
    
   </div>
   </div>
   </div>
   <div class="container col-md-6" id="tablero" style="display:none">
	   <div class="row">
	    <svg id="svgTablero" width="650" height="650" style="background-color:grey">
	    </svg>
	    </div>
	   <div class="row">
	   <div class="col-md-3">
	   <button align="center" type="button" class="btn btn-link" id="btnDado" onclick="tirarDado()">
		 <img id="dado" border="0" class="responsive" src="dado1.svg" width="75px" height="75px">
		</button>
  		</div>
  		<div class="col-md-6" id="progressBar">
 		 	<div id="myProgress" style="display:none">
 		 		<div id="myBar">
	   		</div>
 		 	</div>
 		</div>
	    </div>
	   </div> 
	   
   <div class="col-md-3" id="chat">
   Chat
   <div class="row">
   	<div id="divMensajes"></div>
   </div>
   	
   </div>
  </div>
 </div>
</div>


<script>
$('input').on('keypress', function (event) {
    var regex = new RegExp("^[a-zA-Z0-9]+$");
    var key = String.fromCharCode(!event.charCode ? event.which : event.charCode);
    if (!regex.test(key)) {
       event.preventDefault();
       return false;
    }
});

function cambiar(){
	$(function() {
	    $('#login-form-link').click(function(e) {
	    	$("#button-login").css("background-color", "#FF7171");
	    	$("#button-register").css("background-color", "white");
	    	$("#button-guest").css("background-color", "white");
			$("#button-recuperar").css("background-color", "white");
			$("#login-form").delay(100).fadeIn(100);
	 		$("#register-form").fadeOut(100);
			$('#register-form-link').removeClass('active');
	 		$("#guest-form").fadeOut(100);
			$('#guest-form-link').removeClass('active');
			$("#recuperar-form").fadeOut(100);
			$('#recuperar-form-link').removeClass('active');
			$(this).addClass('active');
			e.preventDefault();
		});
		$('#register-form-link').click(function(e) {
			$("#button-login").css("background-color", "white");
			$("#button-register").css("background-color", "#FF7171");
			$("#button-guest").css("background-color", "white");
			$("#button-recuperar").css("background-color", "white");
			$("#register-form").delay(100).fadeIn(100);
	 		$("#login-form").fadeOut(100);
			$('#login-form-link').removeClass('active');
	 		$("#guest-form").fadeOut(100);
			$('#guest-form-link').removeClass('active');
			$("#recuperar-form").fadeOut(100);
			$('#recuperar-form-link').removeClass('active');
			$(this).addClass('active');
			e.preventDefault();
		});
		$('#guest-form-link').click(function(e) {
			$("#button-login").css("background-color", "white");
			$("#button-register").css("background-color", "white");
			$("#button-guest").css("background-color", "#FF7171");
			$("#button-recuperar").css("background-color", "white");
			$("#guest-form").delay(100).fadeIn(100);
	 		$("#login-form").fadeOut(100);
			$('#login-form-link').removeClass('active');
	 		$("#register-form").fadeOut(100);
			$('#register-form-link').removeClass('active');
			$("#recuperar-form").fadeOut(100);
			$('#recuperar-form-link').removeClass('active');
			$(this).addClass('active');
			e.preventDefault();
		});
		$('#recuperar-form-link').click(function(e) {
			$("#button-login").css("background-color", "white");
			$("#button-register").css("background-color", "white");
			$("#button-guest").css("background-color", "white");
			$("#button-recuperar").css("background-color", "#FF7171");
			$("#recuperar-form").delay(100).fadeIn(100);
	 		$("#login-form").fadeOut(100);
			$('#login-form-link').removeClass('active');
	 		$("#register-form").fadeOut(100);
			$('#register-form-link').removeClass('active');
	 		$("#guest-form").fadeOut(100);
			$('#guest-form-link').removeClass('active');
			$(this).addClass('active');
			e.preventDefault();
		});
	});	
	}


</script>
	<!--div class="container" id="divRegistro" >
      <div class="row">
			<div class="col-xs-12" >
			<div>
      		<form>
      			<div class="form-group" style="color:#0000FF">
      				<input type="text" placeholder="Escribir Nombre de Usuario" id="username" size=40><br>
      				<input type="text" placeholder="Escribir Correo Electrónico" id="emailRegistro" size=40><br>
      				<input type="password" placeholder="Escribir Contraseña" id="pwdRegistro1" size=40><br>
      				<input type="password" placeholder="Repite Contraseña" id="pwdRegistro2" size=40><br>
      				<button type="submit" onclick="registrar()" id="btnRegistrar" class="btn btn-primary">Registrarse</button>
      				<span id="mensajeRegistro"></span>
      			</div>
      		</form>
      		</div>
				
			</div> 
		</div>
	</div>
	
	<div class="container" id="divLogin">
      <div class="row">
		<div class="col-xs-12">
		 <div>
      	  <form>
			<div class="form-group">
      		 <input type="text" placeholder="Escribir Correo Electrónico" id="emailLogin" size=40><br>
      		 <input type="password" placeholder="Escribir Contraseña" id="pwdLogin" size=40><br>
      		 <button type="submit" onclick="login()" id="btnLogin" class="btn btn-primary">Iniciar sesión</button>
      		 <span id="mensajeLogin"></span>
      		</div>
      	</form>
       </div>
	  </div> 
	 </div>
	</div>	

	<div class="container" style="display:none">
		<div class="row">
			<div class="col-md-8">
				<div id="divDatosUsuario">
					Nombre: <input type="text" id="nombre"><br>
					Número de jugadores: <input type="number" id="numero"><br>
					<button id="btnCrearPartida" onclick="crearPartida()">Crear</button>
					<button id="btnUnirseAPartida" onclick="unirse()">Unirse</button>
				</div>
			</div>
			<div class="col-md-4">
				<div class="row">
					<div id="divMensajes"></div>
				</div>
				<div class="row">
					<div id="divChat"></div>
				</div>
			</div>
		</div>
	</div>
	
	<div class="container" style="display:none" id="divTablero">
		<div class="row">
			<div class="col-md-12">
				<svg id="svgTablero" width="500" height="500" style="background-color:grey">
				</svg>
			</div>
		</div>
		<div class="row">
			<div class="col-md-3">
				<button id="btnDado" style="display:none" onclick="tirarDado()">
					Este es el dado
				</button>
			</div>
			<div class="col-md-9">
				<span id="spanListaJugadores"></span>
			</div>
		</div>
	</div>
	
	
	<div class="container">
    <div class="col-md-6">
    <div id="logbox">
      <form id="signup" method="post" action="/signup">
        <h1>create an account</h1>
        <input name="user[name]" type="text" placeholder="What's your username?" pattern="^[\w]{3,16}$" autofocus="autofocus" required="required" class="input pass"/>
        <input name="user[password]" type="password" placeholder="Choose a password" required="required" class="input pass"/>
        <input name="user[password2]" type="password" placeholder="Confirm password" required="required" class="input pass"/>
        <input name="user[email]" type="email" placeholder="Email address" class="input pass"/>
        <input type="submit" value="Sign me up!" class="inputButton"/>
        <div class="text-center">
            already have an account? <a href="#" id="login_id">login</a>
        </div>
      </form>
    </div>
   </div>
    
   <div class="col-md-6">
    <div id="logbox">
      <form id="signup" method="post" action="/signup">
        <h1>account login</h1>
        <input name="user[email]" type="email" placeholder="enter your email" class="input pass"/>
        <input name="user[password]" type="password" placeholder="enter your password" required="required" class="input pass"/>
        <input type="submit" value="Sign me in!" class="inputButton"/>
        <div class="text-center"">
                    <a href="#" id="">create an account</a> - <a href="#" id="">forgot password</a>
                </div>
      </form>
    </div>
    </div>
  </div-->
	
	
	
	<script>
	</script>
	
	<script src="scripts/partidas.js"></script>
	<script src="scripts/tablero.js"></script>
	<script src="scripts/GestionCuentas.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  	
	<!-- script>
	
	if (localStorage.nombre!=undefined)
		document.getElementById("nombre").value=localStorage.nombre;	
	</script-->
</body>
</html>